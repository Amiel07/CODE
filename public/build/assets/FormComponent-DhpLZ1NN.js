import{aN as F,bm as M,r as U,k as N,y as k,o as a,z as b,p as O,e as g,f as m,t as v,u as o,q as w,v as T,F as D,B as I,L as E,bv as j,g as h,j as A,C as L}from"./@vue-BNcvJdUh.js";import{_ as C}from"./TextInput-B0165BvM.js";import{P as $}from"./PrimaryButton-CtzltoZ6.js";import{T as z}from"./@inertiajs-Ctqp54vJ.js";import{u as H}from"./vue-toastification-DAbHj7YC.js";const G={__name:"SelectComponent",props:F({label:"",errorMessage:null,placeholder:null,variant:"outlined",items:[],itemTitle:null,itemValue:null},{modelValue:{type:String,required:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const i=M(l,"modelValue");return U(null),N(()=>{}),(S,c)=>{var n,f,y;const p=k("v-select");return a(),b(p,{variant:"outlined",modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=_=>i.value=_),label:((f=(n=l.label)==null?void 0:n.charAt(0))==null?void 0:f.toUpperCase())+((y=l.label)==null?void 0:y.slice(1)),items:l.items,"item-title":l.itemTitle,"item-value":l.itemValue},null,8,["modelValue","label","items","item-title","item-value"])}}},J={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},K={class:"text-lg font-medium text-gray-900"},Q={class:"mt-1 text-sm text-gray-600"},W={class:"flex items-center"},X=["value"],Y={class:"flex items-center gap-4"},se={__name:"FormComponent",props:{formRoute:{type:String},routeId:{type:String},formType:{type:String},formContent:{type:Object},formTitle:{type:String},formBody:{type:String},routeBody:{type:String}},setup(l){const i=H(),S=l,{formRoute:c,formType:p,formContent:n,formTitle:f,formBody:y,routeId:_,routeBody:Z}=O(S),q=r=>({_method:r,forceFormData:!0,preserveScroll:!0,onProgress:()=>{console.log("form submitting")},onSuccess:u=>{e.reset(),i("Record successfully saved",{autoClose:3500,type:"success",transition:"slide",theme:"colored"})},onError:()=>{i("There was an error with your action",{autoClose:3500,type:"error",transition:"slide",theme:"colored"})},onFinish:()=>{}}),V=[];Object.keys(n.value).map(function(r){n.value[r].hasOwnProperty("selected")&&V.push({key:r,value:n.value[r].selected})});const e=z(V.reduce((r,u)=>(r[u.key]=u.value,r),{})),B=()=>{p.value==="POST"?e.post(route(c.value),q("POST")):p.value==="PATCH"&&e.put(route(c.value,_.value),{preserveScroll:!0,onProgress:()=>{console.log("form submitting")},onSuccess:r=>{i("Record successfully saved",{autoClose:3500,type:"success",transition:"slide",theme:"colored"})},onError:()=>{i("There was an error with your action",{autoClose:3500,type:"error",transition:"slide",theme:"colored"})},onFinish:()=>{}})},P=(r,u)=>{r&&(console.log(e[u]),e[u]=r[0])};return(r,u)=>{const R=k("v-form");return a(),g("section",null,[m("div",J,[m("header",null,[m("h2",K,v(o(f)),1),m("p",Q,v(o(y)),1)]),w(R,{onSubmit:L(B,["prevent"]),class:"mt-6 space-y-3"},{default:T(()=>[(a(!0),g(D,null,I(o(n),(t,s)=>(a(),g("div",null,[t.type!=="file"&&t.type!=="select"?E((a(),b(C,{key:0,id:s,type:t.type,class:"block w-full",modelValue:o(e)[s],"onUpdate:modelValue":d=>o(e)[s]=d,required:t.isRequired,label:t.label,"error-message":o(e).errors[s]},null,8,["id","type","modelValue","onUpdate:modelValue","required","label","error-message"])),[[j,t.type!=="hidden"]]):h("",!0),t.type==="file"?(a(),b(C,{key:1,id:s,type:t.type,class:"block w-full",required:t.isRequired,label:t.label,"error-message":o(e).errors[s],ref_for:!0,ref:s,onInput:d=>P(d.target.files,s)},null,8,["id","type","required","label","error-message","onInput"])):h("",!0),t.type==="select"?(a(),b(G,{key:2,id:s,class:"block w-full",required:t.isRequired,label:t.label,"error-message":o(e).errors[s],ref_for:!0,ref:s,modelValue:o(e)[s],"onUpdate:modelValue":d=>o(e)[s]=d,"item-value":t.itemValue,"item-title":t.itemTitle,items:t.items},null,8,["id","required","label","error-message","modelValue","onUpdate:modelValue","item-value","item-title","items"])):h("",!0)]))),256)),m("div",W,[o(e).progress?(a(),g("progress",{key:0,value:o(e).progress.percentage,max:"100",class:"w-full"},v(o(e).progress.percentage)+"% ",9,X)):h("",!0)]),m("div",Y,[w($,{disabled:o(e).processing,class:"w-full"},{default:T(()=>[A("Save")]),_:1},8,["disabled"])])]),_:1})])])}}};export{se as _};
